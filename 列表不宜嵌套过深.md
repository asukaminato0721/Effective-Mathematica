# 列表不宜嵌套过深

## 正常的列表操作：

在开始讲之前，让我们来看看这三个语法糖: `/@`, `@@`, `@@@`

用法请 <kbd>F1<kbd>

---

### `@@@`

```Mathematica
f[x_,y_,z_]:=
```

现在我们有一个 list

```Mathematica
RandomReal[1, {5, 3}]
```

想对每个子列表进行操作

bad way:

```Mathematica
f[#[[1]],#[[2]],#[[3]]]& /@RandomReal[1, {5, 3}]
```

good way:

```Mathematica
f@@@RandomReal[1, {5, 3}]
```

那假如我们不想要污染 `f` , 可以考虑纯函数

```Mathematica
{#1,#2,#3}&@@@RandomReal[1, {5, 3}]
```

---

### `/@`

有一个 f

```Mathematica
f[x_]:=
```

你需要线性作用于列表 list

```Mathematica
{a,b,c,d,e,f}
```

```Mathematica
f/@{a,b,c,d,e,f}
```

---

### `@@`

你有一个 `f`

```Mathematica
f[x_,y_,z_,w_,a_,]:=
```

你需要把一个列表传进去来提供参数

```Mathematica
{x,y,z,w,a}
```

注意到 `{}` 本质是 `List[]`

所以换头<del>凯露(臭鼬)</del>

```Mathematica
f@@{x,y,z,w,a}
```

---

## 不推荐的列表操作：

1. 异形列表

```Mathematica
{{{1},{{2}},{3,4}}}
```

2. 过度嵌套

```Mathematica
{{{1},{2},{3},{4}}}
```

3. 把所有的东西放在一个 list 里，用 Part 提取

```Mathematica
a={1,2,3};
b={{1,2},{3,4}};
c={{{1,2},3},{{2,3},5}};
{a,b,c}
```

> 然后就写成 `{a,b,c}[[1]]` 这种难以理解 / 维护 的样子
